import{r as n,q as b,m as t,F as v,j as e,L as I,y as k,n as L,z as T,B as j,C as F}from"./index-5db04834.js";import{B as m,I as A,L as B,H as P,S as g,a as r}from"./logo-6702995d.js";import{V as R,a as q}from"./chunk-WQWU3AO7-7bf0a596.js";import{u as z,F as p,c as f,a as w,I as D,b as E,T as H}from"./chunk-P74GIWPW-c4c6e4fa.js";const J=()=>{const[l,S]=n.useState(!1),[x,c]=n.useState(!1),d=b(),y=z(),[s,u]=n.useState({email:"",password:""}),[h,i]=n.useState({open:!1,message:""}),C=o=>{if(o.preventDefault(),s.password.length<6){i({open:!0,message:"Invalid Credentials!"});return}c(!0),i({open:!1,message:""}),fetch("/api/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password})}).then(a=>a.json()).then(a=>{a.success&&(localStorage.setItem("accessToken",a.accessToken),d("/home")),y({title:a.message||a.error,status:a.success?"success":"error",duration:5e3,isClosable:!0,position:"top"})}).catch(a=>{console.log(a)}).finally(()=>{c(!1)})};return t(v,{children:[e(m,{position:"fixed",top:0,right:0,left:0,my:2,children:e(I,{to:"/",children:e(A,{src:B,width:"150px",height:"40px",mx:"auto"})})}),e(k,{minH:"100vh",align:"center",justify:"center",bg:"gray.200",children:e(m,{rounded:"lg",bg:"white",boxShadow:"lg",p:6,w:{base:"90%",md:"50%",lg:"30%"},children:t(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{width:"100%"},children:[e(P,{fontSize:"2xl",textAlign:"center",mb:6,children:"Sign in to your account"}),t("form",{onSubmit:C,children:[t(g,{spacing:1,children:[h.open&&t(T,{status:"error",borderRadius:8,children:[e(j,{}),h.message,e(F,{onClick:()=>{i({open:!1,message:""})},ml:"auto"})]}),t(p,{isRequired:!0,children:[e(f,{children:"Email address"}),e(w,{type:"email",autoComplete:"off",value:s.email,onChange:o=>{u({...s,email:o.target.value})}})]}),t(p,{isRequired:!0,children:[e(f,{children:"Password"}),t(D,{children:[e(w,{type:l?"text":"password",autoComplete:"off",value:s.password,onChange:o=>{u({...s,password:o.target.value})}}),e(E,{h:"full",children:e(r,{variant:"ghost",onClick:()=>S(o=>!o),children:l?e(R,{}):e(q,{})})})]})]})]}),t(g,{spacing:3,mt:3,children:[e(r,{colorScheme:"messenger",type:"submit",isLoading:x,children:"Continue"}),t(H,{textAlign:"center",fontSize:"md",children:["Don't have an account?"," ",e(r,{colorScheme:"teal",variant:"link",onClick:()=>d("/register"),children:"Sign Up"})]})]})]})]})})})]})};export{J as default};
